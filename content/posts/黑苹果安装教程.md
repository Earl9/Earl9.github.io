---
title: "Hackintosh安装"
date: 2021-11-05T22:59:29+08:00
draft: false
slug: 99c03bb5
tags:
  - 教程
categories: macOS
description: "黑苹果安装记录"
---

## 一、下载镜像

- [黑果小兵](https://blog.daliansky.net/)

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184729.png)

## 二、下载EFI

- [EFI](https://github.com/sunmousn/OMEN-by-HP-Laptop-15-dc0xxx)远景论坛大佬制作

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184731.png)

## 三、制作启动盘

- 将U盘文件备份，然后进行格式化

  >U盘必须在16G及以上

![](https://gitee.com/earl9/img/raw/master/img/2021/11184734.png)

![](https://gitee.com/earl9/img/raw/master/img/2021/11184737.png)

## 四、修改启动盘中的EFI文件

- 使用[DiskGenus](https://www.diskgenius.cn/)进行文件替换

![](https://gitee.com/earl9/img/raw/master/img/2021/11184739.png)

- 将EFI文件全部删除，然后将下载好的EFI文件放进去 

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184741.png)

## 五、修改ESP分区大小

- 使用[DiskGenus](https://www.diskgenius.cn/)扩容win自带ESP分区，可以将ESP分区直接删除，然后新建500M的ESP分区，并使用[DISM++](https://www.chuyu.me/zh-Hans/index.html)进行引导恢复（双硬盘可直接在另一个盘新建ESP分区）

![](https://gitee.com/earl9/img/raw/master/img/2021/11184744.png)





![](https://gitee.com/earl9/img/raw/master/img/2021/11184746.png)

## 六、准备安装磁盘

- 使用[DiskGenus](https://www.diskgenius.cn/)划分出要安装macOS的磁盘

![](https://gitee.com/earl9/img/raw/master/img/2021/11184749.png)

![](https://gitee.com/earl9/img/raw/master/img/2021/11184753.png)



## 七、关闭安全启动

- 开机狂按F10进入BIOS设置->选择系统设置->选择启动选项->修改安全启动模式为禁用

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184712.png)

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184724.png)

## 八、开始安装

- 开机选择U盘启动，狂按F9键进入，选择制作的启动盘里的启动选项，选择第一个，第二个为PE的启动项

![](https://gitee.com/earl9/img/raw/master/img/2021/11184755.png)

- 进入OC引导界面，选择安装install macos

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184800.png)

- 进入到启动界面

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184803.png)

- 选择简体中文

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184806.png)

- 首先选择磁盘工具将之前划分出来的分区进行格式化

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184810.png)

- 找到划分的分区，根据大小和位置判断

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184813.png)

- 点击上方的抹除，名称随意，固态硬盘格式选择APFS（机械硬盘选择MacOS日志），如果EFI分区过小会出现抹除失败

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184816.png)

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184819.png)

- 接下来就可以进行系统安装了

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184822.png)

- 一路下一步，协议全部同意

  ![image-20211105011438164](https://gitee.com/earl9/img/raw/master/img/2021/11184825.png)

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184828.png)

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184832.png)

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184835.png)

- 安装过程会自动重启，此时第二次进到OC引导界面，选择新增的macOS install选项

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184838.png)

- 进入开机界面，稍后会再次重启

  ![image-20211105011853437](https://gitee.com/earl9/img/raw/master/img/2021/11184842.png)

  

  >这里会重启多次，每次重启依然选择macOS install选项，直到出现这个选项消失，此时出现macOS系统盘选项，这时已安装完成，可以开机进入系统了

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184845.png)

- 开机进入，一路下一步，不要登录账号，不要开启定位

  ![image-20211105012422233](https://gitee.com/earl9/img/raw/master/img/2021/11184847.png)

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184850.png)

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184852.png)

  ![image-20211105012514535](https://gitee.com/earl9/img/raw/master/img/2021/11184855.png)

  ![image-20211105012524831](https://gitee.com/earl9/img/raw/master/img/2021/11184858.png)

- 安装完成，进入桌面

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184901.png)

## 九、将EFI文件放入ESP分区中

-  将U盘中能顺利安装并启动macOS的EFI放到硬盘的ESP分区里，这里采用[黑果小兵](https://blog.daliansky.net/)提供的挂载方法，方便以后替换EFI文件（也可直接使用[DiskGenus](https://www.diskgenius.cn/)将文件EFI文件放入

- 在Windows操作系统下面,以系统管理员身份打开`cmd`窗口,输入命令:

  ~~~shell
  c:\>diskpart
  list disk           # 磁盘列表
  select disk n       # 选择EFI分区所在的磁盘，n为磁盘号
  list partition      # 磁盘分区列表
  select partition n  # 选择EFI分区，n为EFI分区号
  set id="ebd0a0a2-b9e5-4433-87c0-68b6b72699c7"	# 设置为基本数据分区
  assign letter=X     # x为EFI分区盘符
  exit				# 退出diskpart
  notepad	
  ~~~

- 执行完重启一次，之后就可以直接替换文件了

  ![](https://gitee.com/earl9/img/raw/master/img/2021/11184905.png)

## 十、修改启动选项

- 使用DiskGenus修改启动项顺序，将opencore引导放在首位



![image-20211105013944748](https://gitee.com/earl9/img/raw/master/img/2021/11184908.png)

![](https://gitee.com/earl9/img/raw/master/img/2021/11184912.png)
